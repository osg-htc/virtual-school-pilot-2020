<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://osg-htc.org/virtual-school-pilot-2020/materials/htc/part1-ex6-remove/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Exercise 1.6 - OSG Virtual School Pilot 2020</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/extra.css" rel="stylesheet">
    <link href="../../../css/codehilite.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "HTC Exercise 1.6: Remove Jobs From the Queue", url: "#_top", children: [
              {title: "Removing a Job or Cluster From the Queue", url: "#removing-a-job-or-cluster-from-the-queue" },
              {title: "Removing All of Your Jobs", url: "#removing-all-of-your-jobs" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <style type="text/css"> pre em { font-style: normal; background-color: yellow; } pre strong { font-style: normal; font-weight: bold; color: \#008; } </style>

<h1 id="htc-exercise-16-remove-jobs-from-the-queue">HTC Exercise 1.6: Remove Jobs From the Queue<a class="headerlink" href="#htc-exercise-16-remove-jobs-from-the-queue" title="Permanent link">&para;</a></h1>
<p>The goal of this exercise is to show you how to remove jobs from the queue. This is helpful if you make a mistake, do not want to wait for a job to complete, or otherwise need to fix things. For example, if some test jobs go on hold for using too much memory or disk, you may want to just remove them, edit the submit files, and then submit again.</p>
<p><strong>Skip this exercise and come back to it if you are short on time, or until you need to remove jobs for other exercises</strong></p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Please remember to remove any jobs from the queue that you have given up on. Otherwise, the queue will start to get very long with jobs that will waste resources (and decrease your priority), or that may never run (if they're on hold, or have other issues keeping them from matching).</p>
</div>
<p>This exercise is very short, but if you are out of time, you can come back to it later.</p>
<h2 id="removing-a-job-or-cluster-from-the-queue">Removing a Job or Cluster From the Queue<a class="headerlink" href="#removing-a-job-or-cluster-from-the-queue" title="Permanent link">&para;</a></h2>
<p>To practice removing jobs from the queue, you need a job in the queue!</p>
<ol>
<li>Submit a job from an earlier exercise</li>
<li>Determine the job ID (<code>cluster.process</code>) from the <code>condor_submit</code> output or from <code>condor_q</code></li>
<li>
<p>Remove the job:</p>
<div class="codehilite"><pre><span></span><span class="gp">username@learn $</span> condor_rm &lt;JOB.ID&gt;
</pre></div>


<p>Use the full job ID this time, e.g. <code>5759.0</code>.</p>
</li>
<li>
<p>Did the job leave the queue immediately? If not, about how long did it take?</p>
</li>
</ol>
<p>So far, we have created job clusters that contain only one job process (the <code>.0</code> part of the job ID). That will change soon, so it is good to know how to remove a specific job ID. However, it is possible to remove all jobs that are part of a cluster at once. Simply omit the job process (the <code>.0</code> part of the job ID) in the <code>condor_rm</code> command:</p>
<div class="codehilite"><pre><span></span><span class="gp">username@learn $</span> condor_rm &lt;CLUSTER&gt;
</pre></div>


<p>Finally, you can include many job clusters and full job IDs in a single <code>condor_rm</code> command. For example:</p>
<div class="codehilite"><pre><span></span><span class="gp">username@learn $</span> condor_rm <span class="m">5768</span> <span class="m">5769</span> <span class="m">5770</span>.0 <span class="m">5771</span>.2
</pre></div>


<h2 id="removing-all-of-your-jobs">Removing All of Your Jobs<a class="headerlink" href="#removing-all-of-your-jobs" title="Permanent link">&para;</a></h2>
<p>If you really want to remove all of your jobs at once, you can do that with:</p>
<div class="codehilite"><pre><span></span><span class="gp">username@learn $</span> condor_rm &lt;USERNAME&gt;
</pre></div>


<p>If you want to test it: (optional, though you'll likely need this in the future)</p>
<ol>
<li>Quickly submit several jobs from past exercises</li>
<li>View the jobs in the queue with <code>condor_q</code></li>
<li>Remove them all with the above command</li>
<li>Use <code>condor_q</code> to track progress</li>
</ol>
<p>In case you are wondering, you can remove only your own jobs.
HTCondor administrators can remove anyoneâ€™s jobs, so be nice to them.</p>

  <br>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../part1-ex7-compile/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../part1-ex7-compile/" class="btn btn-xs btn-link">
        Bonus Exercise 1.7
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../part1-ex5-request/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../part1-ex5-request/" class="btn btn-xs btn-link">
        Exercise 1.5
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>