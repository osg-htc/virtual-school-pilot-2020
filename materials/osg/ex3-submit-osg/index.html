<!DOCTYPE html>
<html lang="en">
<head>
  
  
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    
    <link rel="canonical" href="https://osg-htc.org/virtual-school-pilot-2020/materials/osg/ex3-submit-osg/">
    <link rel="shortcut icon" href="../../../img/favicon.ico">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
    <title>Exercise 3 - OSG Virtual School Pilot 2020</title>
    <link href="../../../css/bootstrap-3.3.7.min.css" rel="stylesheet">
    <link href="../../../css/font-awesome-4.7.0.css" rel="stylesheet">
    <link href="../../../css/base.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../css/highlight.css">
    <link href="../../../css/extra.css" rel="stylesheet">
    <link href="../../../css/codehilite.css" rel="stylesheet">
    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
    <![endif]-->

    <script src="../../../js/jquery-3.2.1.min.js"></script>
    <script src="../../../js/bootstrap-3.3.7.min.js"></script>
    <script src="../../../js/highlight.pack.js"></script>
    
    <base target="_top">
    <script>
      var base_url = '../../..';
      var is_top_frame = false;
        
        var pageToc = [
          {title: "Grid Exercise 3: Running jobs in the OSG", url: "#_top", children: [
              {title: "Where in the world are my jobs? (Part 2)", url: "#where-in-the-world-are-my-jobs-part-2" },
              {title: "Mapping your jobs", url: "#mapping-your-jobs" },
              {title: "Next exercise", url: "#next-exercise" },
              {title: "Extra Challenge: Cleaning up your submit directory", url: "#extra-challenge-cleaning-up-your-submit-directory" },
          ]},
        ];

    </script>
    <script src="../../../js/base.js"></script> 
</head>

<body>
<script>
if (is_top_frame) { $('body').addClass('wm-top-page'); }
</script>



<div class="container-fluid wm-page-content">
  <a name="_top"></a>
    

    <h1 id="grid-exercise-3-running-jobs-in-the-osg">Grid Exercise 3: Running jobs in the OSG<a class="headerlink" href="#grid-exercise-3-running-jobs-in-the-osg" title="Permanent link">&para;</a></h1>
<p>The goal of this exercise is to have your jobs running on the OSG and map their geographical locations.</p>
<h2 id="where-in-the-world-are-my-jobs-part-2">Where in the world are my jobs? (Part 2)<a class="headerlink" href="#where-in-the-world-are-my-jobs-part-2" title="Permanent link">&para;</a></h2>
<p>In this version of the geolocating exercise, you will submit jobs to the OSG from <code>login04.osgconnect.net</code> and
hopefully getting back much more interesting results!
You will be using the same exact payload as you did in <a href="../../../materials/osg/ex1-submit-refresher">Grid exercise 1</a>.</p>
<h3 id="gathering-network-information-from-the-osg">Gathering network information from the OSG<a class="headerlink" href="#gathering-network-information-from-the-osg" title="Permanent link">&para;</a></h3>
<p>Now to create submit files that will run in the OSG!</p>
<ol>
<li>If not already logged in, <code>ssh</code> into <code>login04.osgconnect.net</code></li>
<li>
<p>Set the default project associated with your account by running the following command:</p>
<div class="codehilite"><pre><span></span><span class="go">connect project</span>
</pre></div>


<p>If you are given a choice and don't know which project to select, reach out to OSG staff.
The default project will stay in effect until changed at a later time.</p>
</li>
<li>
<p>Make a new directory for this exercise, <code>grid-ex3</code> and change into it</p>
</li>
<li>Use <code>scp</code> or <code>rsync</code> from <a href="../../../materials/osg/ex2-login-scp">Grid exercise 2</a> to copy over the executable and input
   file from the <code>grid-ex1</code> directory from <code>learn</code>.</li>
<li>Re-create the submit file from Grid exercise 1 except this time around change your submit file so that it submits
   <strong>five hundred</strong> jobs!</li>
<li>Submit your file and wait for the results</li>
</ol>
<h2 id="mapping-your-jobs">Mapping your jobs<a class="headerlink" href="#mapping-your-jobs" title="Permanent link">&para;</a></h2>
<p>As before, you will be using <a href="http://www.mapcustomizer.com/">http://www.mapcustomizer.com/</a> to visualize where your jobs have landed in the OSG.
Copy and paste the collated results from your job output into the bulk creation text box at the bottom of the screen.
Where did your jobs end up?</p>
<h2 id="next-exercise">Next exercise<a class="headerlink" href="#next-exercise" title="Permanent link">&para;</a></h2>
<p>Once completed, move onto the next exercise: <a href="../ex4-hardware-diffs/">Hardware Differences in the OSG</a></p>
<h2 id="extra-challenge-cleaning-up-your-submit-directory">Extra Challenge: Cleaning up your submit directory<a class="headerlink" href="#extra-challenge-cleaning-up-your-submit-directory" title="Permanent link">&para;</a></h2>
<p>If you run <code>ls</code> in the directory from which you submitted your job, you may see that you now have thousands of files!
Proper data management starts to become a requirement as you start to develop truly HTC workflows;
you'll want organize your submit files, code, and input data separate from your output data.</p>
<ol>
<li>
<p>Try editing your submit file so that all your output and error files are saved to separate directories within your
   submit directory.</p>
<div class="admonition note">
<p class="admonition-title">Tip</p>
<p>Experiment with fewer job submissions until you're confident you have it right, then go back to submitting 500
jobs!</p>
</div>
</li>
<li>
<p>Submit your file and track the status of your jobs.</p>
</li>
</ol>
<p>Did your jobs complete successfully with output and error files saved in separate directories?
If not, can you find any useful information in the job logs or hold messages?
If you get stuck, review the <a href="../../../materials/osg/files/osgus20-day1-part2-many-HTCondor-jobs.pdf">slides for submitting many jobs</a>.</p>

  <br>
    

  <div class="row wm-article-nav-buttons" role="navigation" aria-label="navigation">
    
    <div class="wm-article-nav pull-right">
      <a href="../ex4-hardware-diffs/" class="btn btn-xs btn-default pull-right">
        Next
        <i class="fa fa-chevron-right" aria-hidden="true"></i>
      </a>
      <a href="../ex4-hardware-diffs/" class="btn btn-xs btn-link">
        Exercise 4
      </a>
    </div>
    
    <div class="wm-article-nav">
      <a href="../ex2-login-scp/" class="btn btn-xs btn-default pull-left">
        <i class="fa fa-chevron-left" aria-hidden="true"></i>
        Previous</a><a href="../ex2-login-scp/" class="btn btn-xs btn-link">
        Exercise 2
      </a>
    </div>
    
  </div>

    <br>
</div>

<footer class="col-md-12 wm-page-content">
  <p>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a> using <a href="https://github.com/gristlabs/mkdocs-windmill">Windmill</a> theme by Grist Labs.</p>
</footer>

</body>
</html>